<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · GBIF2.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://docs.EcoJulia.org/GBIF2.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>GBIF2.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Species"><span>Species</span></a></li><li><a class="tocitem" href="#Occurrence"><span>Occurrence</span></a></li><li class="toplevel"><a class="tocitem" href="#Low-level"><span>Low level</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/EcoJulia/GBIF2.jl/blob/main/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="GBIF2"><a class="docs-heading-anchor" href="#GBIF2">GBIF2</a><a id="GBIF2-1"></a><a class="docs-heading-anchor-permalink" href="#GBIF2" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/rafaqz/GBIF2.jl">GBIF2</a>.</p><ul><li><a href="#GBIF2.GBIF2"><code>GBIF2.GBIF2</code></a></li><li><a href="#GBIF2.Occurrence"><code>GBIF2.Occurrence</code></a></li><li><a href="#GBIF2.Species"><code>GBIF2.Species</code></a></li><li><a href="#GBIF2.Table"><code>GBIF2.Table</code></a></li><li><a href="#GBIF2.enum"><code>GBIF2.enum</code></a></li><li><a href="#GBIF2.occurrence"><code>GBIF2.occurrence</code></a></li><li><a href="#GBIF2.occurrence_count"><code>GBIF2.occurrence_count</code></a></li><li><a href="#GBIF2.occurrence_count_schema"><code>GBIF2.occurrence_count_schema</code></a></li><li><a href="#GBIF2.occurrence_download"><code>GBIF2.occurrence_download</code></a></li><li><a href="#GBIF2.occurrence_inventory"><code>GBIF2.occurrence_inventory</code></a></li><li><a href="#GBIF2.occurrence_request"><code>GBIF2.occurrence_request</code></a></li><li><a href="#GBIF2.occurrence_search"><code>GBIF2.occurrence_search</code></a></li><li><a href="#GBIF2.species"><code>GBIF2.species</code></a></li><li><a href="#GBIF2.species_list"><code>GBIF2.species_list</code></a></li><li><a href="#GBIF2.species_match"><code>GBIF2.species_match</code></a></li><li><a href="#GBIF2.species_search"><code>GBIF2.species_search</code></a></li></ul><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="GBIF2.GBIF2" href="#GBIF2.GBIF2"><code>GBIF2.GBIF2</code></a> — <span class="docstring-category">Module</span></header><section><div><p><strong>GBIF2</strong></p><p><a href="https://stable.ecojulia.org/GBIF2.jl/"><img src="https://img.shields.io/badge/docs-stable-blue.svg" alt="Stable"/></a> <a href="https://docs.ecojulia.org/GBIF2.jl/"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt="Dev"/></a> <a href="https://github.com/EcoJulia/GBIF2.jl/actions/workflows/CI.yml?query=branch%3Amain"><img src="https://github.com/EcoJulia/GBIF2.jl/actions/workflows/CI.yml/badge.svg?branch=main" alt="Build Status"/></a> <a href="https://codecov.io/gh/rafaqz/GBIF2.jl"><img src="https://codecov.io/gh/EcoJulia/GBIF2.jl/branch/main/graph/badge.svg" alt="Coverage"/></a></p><p>The goals of GBIF2 is to follow the GBIF api as completely and correctly as possible.</p><p>Its main design features are:</p><ul><li>Single results are returned with type <code>Occurrence</code> or <code>Species</code>,  with all of the GBIF fields available using <code>object.fieldname</code>,   These return missing if not returned by a specific query.</li><li>Multiple results are returned as a Tables.jl compatible <code>Table</code> of <code>Occurrence</code> or <code>Species</code> rows.    This <code>Table</code> can be converted to a <code>DataFrame</code> or writted directly to disk using CSV.jl and similar packages.</li><li>All GBIF enum keys are checked for correctness before querying so that only correct queries can be sent.    Clear messages point to errors in queries.</li><li>A <code>limit</code> above <code>300</code> items at a time is allowed, unlike in the original API, by making   multiple reuests and joining the results.</li><li>For even larger queries, download requests are handled with gbif.org account authentication.</li></ul><p><strong>A quick example</strong></p><pre><code class="language-julia hljs">julia&gt; using GBIF2, DataFrames

# Basic species match with `species_match`:
julia&gt; sp = species_match(&quot;Lalage newtoni&quot;);

julia&gt; sp.species
&quot;Coracina newtoni&quot;

julia&gt; sp.synonym
true

julia&gt; sp.vernacularName
missing

# Get a more detailed object with `species`:
julia&gt; sp_detailed = species(sp);

julia&gt; sp_detailed.vernacularName
&quot;Reunion Cuckooshrike&quot;

# Get the first 2000 occurrences for the species from 2000 to 2020, on reunion:
julia&gt; oc = occurrence_search(sp;
           limit=2000, country=:RE, hasCoordinate=true, year=(2000,2020)
       ) |&gt; DataFrame
2000×83 DataFrame
  Row │ decimalLongitude  decimalLatitude  year    month   day
      │ Float64?          Float64?         Int64?  Int64?  Int64?
──────┼────────────────────────────────────────────────────────────
    1 │          55.5085         -21.0192    2020       1      14
    2 │          55.4133         -20.928     2020       1      23
    3 │          55.4133         -20.928     2020       1      16
    4 │          55.5085         -21.0192    2020       1      14
    5 │          55.4123         -21.0184    2020       1      13
    6 │          55.4133         -20.928     2020       1      28
    7 │          55.4133         -20.928     2020       1      16
  ⋮   │        ⋮                 ⋮           ⋮       ⋮       ⋮
 1994 │          55.4133         -20.928     2017      10      29
 1995 │          55.4123         -21.0184    2017      10      25
 1996 │          55.4123         -21.0184    2017      10      25
 1997 │          55.4123         -21.0184    2017      10      17
 1998 │          55.4123         -21.0184    2017      10      25
 1999 │          55.4123         -21.0184    2017      10      25
 2000 │          55.4123         -21.0184    2017      10      25</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/GBIF2.jl#L4-L74">source</a></section></article><p>There are a number of ways to query the GBIF database for species,  returning different numbers of results and amounts of data.</p><h2 id="Species"><a class="docs-heading-anchor" href="#Species">Species</a><a id="Species-1"></a><a class="docs-heading-anchor-permalink" href="#Species" title="Permalink"></a></h2><p><code>Species</code> objects and queries correspond closely to the <a href="https://www.gbif.org/developer/species">GBIF species api</a>.</p><article class="docstring"><header><a class="docstring-binding" id="GBIF2.Species" href="#GBIF2.Species"><code>GBIF2.Species</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Species</code></pre><p>Wrapper object for information returned by <a href="#GBIF2.species"><code>species</code></a>, <a href="#GBIF2.species_list"><code>species_list</code></a>, <a href="#GBIF2.species_match"><code>species_match</code></a> or <a href="#GBIF2.species_search"><code>species_search</code></a> queries. These often are species, but a more correctly taxa, as it may be e.g. &quot;Aves&quot; for all birds. We use <code>Species</code> for naming consistency with the GBIF API.</p><p>Species also serve as rows in <a href="#GBIF2.Table"><code>Table</code></a>, and are converted to rows in a DataFrame or CSV automatically by the Tables.jl interface.</p><p><code>Species</code> properties are accessed with <code>.</code>, e.g. <code>sp.kingdom</code>. Note that these queries do not all return all properties, and not all records contain all properties in any case. Missing properties simply return <code>missing</code>.</p><p>The possible properties of a <code>Species</code> object are: (:kingdom, :phylum, :class, :order, :family, :genus, :species, :key, :nubKey, :nameKey, :taxonID, :sourceTaxonKey, :kingdomKey, :phylumKey, :classKey, :orderKey, :familyKey, :genusKey, :speciesKey, :datasetKey, :constituentKey, :scientificName, :canonicalName, :vernacularName, :parentKey, :parent, :basionymKey, :basionym, :authorship, :nameType, :rank, :origin, :taxonomicStatus, :nomenclaturalStatus, :remarks, :publishedIn, :numDescendants, :lastCrawled, :lastInterpreted, :issues, :synonym)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/species.jl#L30-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.species_match" href="#GBIF2.species_match"><code>GBIF2.species_match</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">species_match(; kw...)</code></pre><p>Query the GBIF <code>species/match</code> api, returning the single closest <code>Species</code> using fuzzy search.</p><p>The results are not particularly detailed, this can be improved by calling  <code>species(res)</code> on the result of <code>species_match</code> to query for the full dataset.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using GBIF2
sp = species_match(&quot;Lalage newtoni&quot;)

# output
GBIF2.Species({
           &quot;usageKey&quot;: 8385394,
   &quot;acceptedUsageKey&quot;: 2486791,
     &quot;scientificName&quot;: &quot;Lalage newtoni (Pollen, 1866)&quot;,
      &quot;canonicalName&quot;: &quot;Lalage newtoni&quot;,
               &quot;rank&quot;: &quot;SPECIES&quot;,
             &quot;status&quot;: &quot;SYNONYM&quot;,
         &quot;confidence&quot;: 98,
          &quot;matchType&quot;: &quot;EXACT&quot;,
            &quot;kingdom&quot;: &quot;Animalia&quot;,
             &quot;phylum&quot;: &quot;Chordata&quot;,
              &quot;order&quot;: &quot;Passeriformes&quot;,
             &quot;family&quot;: &quot;Campephagidae&quot;,
              &quot;genus&quot;: &quot;Coracina&quot;,
            &quot;species&quot;: &quot;Coracina newtoni&quot;,
         &quot;kingdomKey&quot;: 1,
          &quot;phylumKey&quot;: 44,
           &quot;classKey&quot;: 212,
           &quot;orderKey&quot;: 729,
          &quot;familyKey&quot;: 9284,
           &quot;genusKey&quot;: 2482359,
         &quot;speciesKey&quot;: 2486791,
            &quot;synonym&quot;: true,
              &quot;class&quot;: &quot;Aves&quot;
})</code></pre><p><strong>Keywords</strong></p><p>We use keywords exactly as in the <a href="https://www.gbif.org/developer/species">GBIF api</a>.</p><p>You can find keyword enum values with the <code>[GBIF2.enum](@ref)</code> function.</p><ul><li><code>rank</code>: Filters by taxonomic rank as given in our Rank enum</li><li><code>name</code>: Name of the species</li><li><code>strict</code>: If <code>true</code> it (fuzzy) matches only the given name, but never a taxon in the upper classification</li><li><code>verbose</code>: If <code>true</code> it shows alternative matches which were considered but then rejected</li><li><code>kingdom</code>: Optional kingdom classification accepting a canonical name.</li><li><code>phylum</code>: Optional phylum classification accepting a canonical name.</li><li><code>class</code>: Optional class classification accepting a canonical name.</li><li><code>order</code>: Optional order classification accepting a canonical name.</li><li><code>family</code>: Optional family classification accepting a canonical name.</li><li><code>genus</code>: Optional genus classification accepting a canonical name.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/species.jl#L229-L279">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.species" href="#GBIF2.species"><code>GBIF2.species</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">species(key; kw...)
species(key, resulttype; kw...)</code></pre><p>Query the GBIF <code>species</code> api, returning a single <code>Species</code>.</p><ul><li><code>key</code>: a species key, or <code>Species</code> object from another search that a key can be   obtained from.</li><li><code>resulttype</code>: set this so that instead of a <code>Species</code>, <code>species</code> will return an   object in <code>(:verbatim, :name, :parents, :children, :related, :synonyms, :combinations, :descriptions, :distributions, :media, :references, :speciesProfiles, :vernacularNames, :typeSpecimens)</code>. The return value will be a raw JSON3.Object<code>,   but its</code>propertynames` can be checked and used to access data.</li></ul><p><strong>Example</strong></p><p>Here we find a species with <code>species_search</code>, and then obtain the complete record with <code>species</code>.</p><pre><code class="language-julia hljs">julia&gt; using GBIF2
julia&gt; tbl = species_search(&quot;Falco punctatus&quot;)
20-element GBIF2.Table{GBIF2.Species, JSON3.Array{JSON3.Object, Vector{UInt8}, SubArray{
UInt64, 1, Vector{UInt64}, Tuple{UnitRange{Int64}}, true}}}
┌──────────┬──────────┬───────────────┬───────────────┬────────────┬─────────┬──────────
│  kingdom │   phylum │         class │         order │     family │   genus │         ⋯
│  String? │  String? │       String? │       String? │    String? │ String? │         ⋯
├──────────┼──────────┼───────────────┼───────────────┼────────────┼─────────┼──────────
│ Animalia │  missing │          Aves │ Falconiformes │ Falconidae │ missing │ Falco p ⋯
│ Animalia │  missing │          Aves │       missing │ Falconidae │   Falco │ Falco p ⋯
│  missing │  missing │          Aves │ Falconiformes │ Falconidae │   Falco │ Falco p ⋯
│  missing │ Chordata │       missing │       missing │ Falconidae │   Falco │ Falco p ⋯
│ Animalia │ Chordata │          Aves │ Falconiformes │ Falconidae │   Falco │ Falco p ⋯
│ Animalia │ Chordata │          Aves │ Falconiformes │ Falconidae │   Falco │ Falco p ⋯
│  Metazoa │ Chordata │          Aves │ Falconiformes │ Falconidae │   Falco │ Falco p ⋯
│ Animalia │  missing │       missing │ Falconiformes │ Falconidae │ missing │ Falco p ⋯
│  Metazoa │ Chordata │          Aves │ Falconiformes │ Falconidae │   Falco │ Falco p ⋯
│    ⋮     │    ⋮     │       ⋮       │       ⋮       │     ⋮      │    ⋮    │         ⋱
└──────────┴──────────┴───────────────┴───────────────┴────────────┴─────────┴──────────
                                                           35 columns and 11 rows omitted
</code></pre><p>And retrieve all the fields for one of the matches.</p><pre><code class="language-julia hljs">julia&gt; species(tbl[6])
GBIF2.Species({
                   &quot;key&quot;: 102091853,
                &quot;nubKey&quot;: 2481005,
               &quot;nameKey&quot;: 4400647,
               &quot;taxonID&quot;: &quot;175650&quot;,
               &quot;kingdom&quot;: &quot;Animalia&quot;,
                &quot;phylum&quot;: &quot;Chordata&quot;,
                 &quot;order&quot;: &quot;Falconiformes&quot;,
                &quot;family&quot;: &quot;Falconidae&quot;,
                 &quot;genus&quot;: &quot;Falco&quot;,
               &quot;species&quot;: &quot;Falco punctatus&quot;,
            &quot;kingdomKey&quot;: 101683523,
             &quot;phylumKey&quot;: 102017110,
              &quot;classKey&quot;: 102085317,
              &quot;orderKey&quot;: 102091762,
             &quot;familyKey&quot;: 102091763,
              &quot;genusKey&quot;: 102091765,
            &quot;speciesKey&quot;: 102091853,
            &quot;datasetKey&quot;: &quot;9ca92552-f23a-41a8-a140-01abaa31c931&quot;,
             &quot;parentKey&quot;: 102091765,
                &quot;parent&quot;: &quot;Falco&quot;,
        &quot;scientificName&quot;: &quot;Falco punctatus Temminck, 1821&quot;,
         &quot;canonicalName&quot;: &quot;Falco punctatus&quot;,
        &quot;vernacularName&quot;: &quot;Mauritius Kestrel&quot;,
            &quot;authorship&quot;: &quot;Temminck, 1821&quot;,
              &quot;nameType&quot;: &quot;SCIENTIFIC&quot;,
                  &quot;rank&quot;: &quot;SPECIES&quot;,
                &quot;origin&quot;: &quot;SOURCE&quot;,
       &quot;taxonomicStatus&quot;: &quot;ACCEPTED&quot;,
   &quot;nomenclaturalStatus&quot;: [],
        &quot;numDescendants&quot;: 0,
           &quot;lastCrawled&quot;: &quot;2022-10-10T18:15:33.989+00:00&quot;,
       &quot;lastInterpreted&quot;: &quot;2022-10-10T19:16:16.841+00:00&quot;,
                &quot;issues&quot;: [
                            &quot;SCIENTIFIC_NAME_ASSEMBLED&quot;
                          ],
               &quot;synonym&quot;: false,
                 &quot;class&quot;: &quot;Aves&quot;
})</code></pre><p><strong>Keyword arguments</strong></p><ul><li><code>language</code>: can be specified for a single argument or with second argument in   <code>(:parents, :children, :related, :synonyms)</code>. </li><li><code>datasetKey</code>: can be specified, with a second argument <code>:related</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/species.jl#L72-L162">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.species_search" href="#GBIF2.species_search"><code>GBIF2.species_search</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">species_search([q]; kw...)</code></pre><p>Query the GBIF <code>species/search</code> api, returning many results in a <a href="#GBIF2.Table"><code>GBIF2.Table</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using GBIF2
sp = species_search(&quot;Psittacula eques&quot;)

# output
20-element GBIF2.Table{GBIF2.Species, JSON3.Array{JSON3.Object, Vector{UInt8}, SubArray{UInt64, 1,
Vector{UInt64}, Tuple{UnitRange{Int64}}, true}}}
┌──────────┬──────────┬────────────────┬────────────────┬───────────────┬──────────────┬──
│  kingdom │   phylum │          class │          order │        family │        genus │ ⋯
│  String? │  String? │        String? │        String? │       String? │      String? │ ⋯
├──────────┼──────────┼────────────────┼────────────────┼───────────────┼──────────────┼──
│ Animalia │ Chordata │           Aves │ Psittaciformes │ Psittaculidae │   Psittacula │ ⋯
│ Animalia │  missing │           Aves │ Psittaciformes │ Psittaculidae │      missing │ ⋯
│  Metazoa │ Chordata │           Aves │ Psittaciformes │   Psittacidae │   Psittacula │ ⋯
│ Animalia │  missing │           Aves │ Psittaciformes │ Psittaculidae │      missing │ ⋯
│ Animalia │  missing │           Aves │ Psittaciformes │ Psittaculidae │      missing │ ⋯
│ Animalia │  missing │        missing │ Psittaciformes │ Psittaculidae │      missing │ ⋯
│  Metazoa │ Chordata │           Aves │ Psittaciformes │   Psittacidae │   Psittacula │ ⋯
│  missing │  missing │        missing │        missing │       missing │   Psittacula │ ⋯
│ Animalia │ Chordata │           Aves │ Psittaciformes │ Psittaculidae │   Psittacula │ ⋯
│ Animalia │  missing │           Aves │        missing │   Psittacidae │   Psittacula │ ⋯
│  Metazoa │ Chordata │           Aves │ Psittaciformes │   Psittacidae │   Psittacula │ ⋯
│ Animalia │ Chordata │           Aves │ Psittaciformes │ Psittaculidae │   Psittacula │ ⋯
│ ANIMALIA │ CHORDATA │ PSITTACIFORMES │           AVES │   PSITTACIDAE │ Alexandrinus │ ⋯
│  Metazoa │ Chordata │           Aves │ Psittaciformes │   Psittacidae │   Psittacula │ ⋯
│ Animalia │ Chordata │           Aves │ Psittaciformes │   Psittacidae │   Psittacula │ ⋯
│ Animalia │  missing │           Aves │ Psittaciformes │ Psittaculidae │   Psittacula │ ⋯
│    ⋮     │    ⋮     │       ⋮        │       ⋮        │       ⋮       │      ⋮       │ ⋱
└──────────┴──────────┴────────────────┴────────────────┴───────────────┴──────────────┴──
                                                              37 columns and 4 rows omitted</code></pre><p><strong>Keyword arguments</strong></p><p>We use keywords exactly as in the <a href="https://www.gbif.org/developer/species">GBIF api</a>.</p><ul><li><code>class</code>: Optional class classification accepting a canonical name.</li><li><code>datasetKey</code>: Filters by the checklist dataset key (a uuid)</li><li><code>facet</code>: A list of facet names used to retrieve the 100 most frequent values for a field. Allowed facets are <code>:datasetKey</code>, <code>:higherTaxonKey</code>, <code>:rank</code>, <code>:status</code>, <code>:nomenclaturalStatus</code>, <code>isExtinct</code>, <code>:habitat</code>, <code>:threat</code> and <code>:nameType</code>. </li><li><code>facetMincount</code>: Used in combination with the facet parameter. Set facetMincount=N to exclude facets with a count less than N, e.g. <code>facet=type, limit=&gt;0, facetMincount=&gt;10000</code> only shows the type value <code>OCCURRENCE</code> because <code>:CHECKLIST</code> and <code>:METADATA</code> have counts less than 10000. </li><li><code>facetMultiselect</code>: Used in combination with the facet parameter. Set <code>facetMultiselect=true</code> to still return counts for values that are not currently filtered, e.g. <code>facet=type, limit=&gt;0, type=&gt;CHECKLIST, facetMultiselect=&gt;true</code> still shows type values <code>OCCURRENCE</code> and <code>METADATA</code> even though type is being filtered by <code>type=:CHECKLIST</code> </li><li><code>family</code>: Optional family classification accepting a canonical name.</li><li><code>genus</code>: Optional genus classification accepting a canonical name.</li><li><code>habitat</code>: Filters by the habitat. Currently only 3 major biomes are accepted in our Habitat enum</li><li><code>highertaxonKey</code>: Filters by any of the higher Linnean rank keys. Note this is within the respective checklist and not searching nub keys across all checklists. </li><li><code>hl</code>: Set <code>hl=true</code> to highlight terms matching the query when in fulltext search fields. The highlight will be an emphasis tag of class &#39;gbifH1&#39; e.g. <code>q=&quot;plant&quot;, hl=&gt;true</code>. Fulltext search fields include title, keyword, country, publishing country, publishing organization title, hosting organization title, and description. One additional full text field is searched which includes information from metadata documents, but the text of this field is not returned in the response </li><li><code>isExtinct</code>: Filters by extinction status (a boolean, e.g. isExtinct=&gt;true)</li><li><code>issue</code>: A specific indexing issue as defined in our NameUsageIssue enum</li><li><code>kingdom</code>: Optional kingdom classification accepting a canonical name.</li><li><code>language</code>: Language for vernacular names, given as an ISO 639-1 two-letter code from our</li><li><code>nameType</code>: Filters by the name type as given in our NameType enum</li><li><code>nomenclaturalStatus</code>: Not yet implemented, but will eventually allow for filtering by a nomenclatural status enum</li><li><code>order</code>: Optional order classification accepting a canonical name.</li><li><code>phylum</code>: Optional phylum classification accepting a canonical name.</li><li><code>q</code>: Simple full text search parameter. The value for this parameter can be a simple word or a phrase. Wildcards are not supported </li><li><code>rank</code>: Filters by taxonomic rank as given in our Rank enum</li><li><code>sourceId</code>: Filters by the source identifier</li><li><code>status</code>: Filters by the taxonomic status as given in our TaxonomicStatus enum</li><li><code>strict</code>: If <code>true</code> it (fuzzy) matches only the given name, but never a taxon in the upper classification</li><li><code>threat</code>: Filters by the taxonomic threat status as given in our ThreatStatus enum</li><li><code>verbose</code>: If <code>true</code> it shows alternative matches which were considered but then rejected</li><li><code>offset</code>: Offset to start results from</li><li><code>limit</code>: The maximum number of results to return. This can&#39;t be greater than 300, any value greater is set to 300.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/species.jl#L297-L341">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.species_list" href="#GBIF2.species_list"><code>GBIF2.species_list</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">species_list(; kw...)
species_list(key; kw...)
species_list(key, resulttype; kw...)</code></pre><p>Query the GBIF <code>species_list</code> api, returning a table of <code>Species</code> that exactly match your query.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using GBIF2
species_list(; name=&quot;Lalage newtoni&quot;)

# output
8-element GBIF2.Table{GBIF2.Species, JSON3.Array{JSON3.Object, Vector{UInt8}, SubArray{UInt64, 1, Vector{UInt64}, Tuple{UnitRange{Int64}}, true}}}
┌──────────┬──────────┬───────────────┬───────────────┬───────────────┬──────────┬──────────────────┬───────────┬─────────┬──────────┬──────────────┬────────────────┬───────
│  kingdom │   phylum │         class │         order │        family │    genus │          species │       key │  nubKey │  nameKey │      taxonID │ sourceTaxonKey │ king ⋯
│  String? │  String? │       String? │       String? │       String? │  String? │          String? │    Int64? │  Int64? │   Int64? │      String? │         Int64? │      ⋯
├──────────┼──────────┼───────────────┼───────────────┼───────────────┼──────────┼──────────────────┼───────────┼─────────┼──────────┼──────────────┼────────────────┼───────
│ Animalia │ Chordata │          Aves │ Passeriformes │ Campephagidae │ Coracina │ Coracina newtoni │   8385394 │ missing │ 18882488 │ gbif:8385394 │      176651982 │      ⋯
│ Animalia │  missing │          Aves │       missing │ Campephagidae │   Lalage │   Lalage newtoni │ 100144670 │ 8385394 │  5976204 │        06014 │        missing │  128 ⋯
│ Animalia │  missing │          Aves │ Passeriformes │ Campephagidae │  missing │   Lalage newtoni │ 133165079 │ 8385394 │  5976204 │        18380 │        missing │  135 ⋯
│ Animalia │ Chordata │          Aves │ Passeriformes │ Campephagidae │   Lalage │   Lalage newtoni │ 161400685 │ 8385394 │ 18882488 │       895898 │        missing │  134 ⋯
│  missing │  missing │       missing │       missing │       missing │ Bossiaea │   Lalage newtoni │ 165585935 │ missing │ 18882488 │      6924877 │        missing │    m ⋯
│ Animalia │  missing │          Aves │ Passeriformes │ Campephagidae │   Lalage │   Lalage newtoni │ 165923305 │ 8385394 │ 18882488 │        19393 │        missing │  100 ⋯
│ Animalia │ Chordata │          Aves │ Passeriformes │ Campephagidae │   Lalage │   Lalage newtoni │ 168010293 │ 8385394 │  5976204 │       181376 │        missing │  167 ⋯
│ Animalia │ Chordata │ Passeriformes │          Aves │ Campephagidae │   Lalage │   Lalage newtoni │ 176651982 │ 8385394 │ 18882488 │     22706569 │        missing │  202 ⋯
└──────────┴──────────┴───────────────┴───────────────┴───────────────┴──────────┴──────────────────┴───────────┴─────────┴──────────┴──────────────┴────────────────┴───────</code></pre><p><strong>Keyword arguments</strong></p><p>We use keywords exactly as in the <a href="https://www.gbif.org/developer/species">GBIF api</a>.</p><p>You can find keyword enum values with the <code>[GBIF2.enum](@ref)</code> function.</p><ul><li><code>language</code>: Language for vernacular names, given as an ISO 639-1 two-letter code from our</li><li><code>datasetKey</code>: Filters by the checklist dataset key (a uuid)</li><li><code>sourceId</code>: Filters by the source identifier</li><li><code>name</code>: Name of the species</li><li><code>offset</code>: Offset to start results from</li><li><code>limit</code>: The maximum number of results to return. This can&#39;t be greater than 300, any value greater is set to 300.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/species.jl#L182-L220">source</a></section></article><h2 id="Occurrence"><a class="docs-heading-anchor" href="#Occurrence">Occurrence</a><a id="Occurrence-1"></a><a class="docs-heading-anchor-permalink" href="#Occurrence" title="Permalink"></a></h2><p><code>Occurrence</code> objects and queries correspond closely to the <a href="https://www.gbif.org/developer/occurrence">GBIF occurrence api</a>.</p><article class="docstring"><header><a class="docstring-binding" id="GBIF2.Occurrence" href="#GBIF2.Occurrence"><code>GBIF2.Occurrence</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Occurrence</code></pre><p>Wrapper object for information returned about an occurrence by <a href="#GBIF2.occurrence"><code>occurrence</code></a> and <a href="#GBIF2.occurrence_search"><code>occurrence_search</code></a> queries. <code>Occurrence</code> also serves as rows in <code>Table</code>, and is converted to rows in a DataFrame or CSV automatically by the Tables.jl interface.</p><p>Occurrence properties are accessed with <code>.</code>, e.g. <code>oc.country</code>. Note that these queries do not all return all properties, and not all records contain all properties in any case. Missing properties simply return <code>missing</code>.</p><p>The possible properties of an <code>Occurrence</code> object are: (:decimalLongitude, :decimalLatitude, :year, :month, :day, :kingdom, :phylum, :class, :order, :family, :genus, :species, :genericName, :taxonRank, :taxonomicStatus, :iucnRedListCategory, :elevation, :continent, :stateProvince, :eventDate, :key, :datasetKey, :publishingOrgKey, :installationKey, :publishingCountry, :protocol, :lastCrawled, :lastParsed, :crawlId, :hostingOrganizationKey, :extensions, :basisOfRecord, :individualCount, :occurrenceStatus, :taxonKey, :kingdomKey, :phylumKey, :classKey, :orderKey, :familyKey, :genusKey, :acceptedTaxonKey, :scientificName, :acceptedScientificName, :issues, :lastInterpreted, :license, :identifiers, :media, :facts, :relations, :gadm, :institutionKey, :isInCluster, :datasetName, :recordedBy, :inCluster, :geodeticDatum, :countryCode, :recordedByIDs, :identifiedByIDs, :country, :rightsHolder, :nomenclaturalStatus, :recordNumber, :identifier, :nomenclaturalCode, :county, :locality, :fieldNumber, :collectionCode, :gbifID, :occurrenceID, :type, :taxonID, :catalogNumber, :institutionCode, :ownerInstitutionCode, :bibliographicCitation, :collectionID, :earliestEraOrLowestErathem, :earliestPeriodOrLowestSystem, :higherClassification)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/occurrence.jl#L27-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.occurrence_search" href="#GBIF2.occurrence_search"><code>GBIF2.occurrence_search</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">occurrence_search(species::Species; kw...)
occurrence_search([q]; kw...)
occurrence_search(q, returntype; limit...)</code></pre><p>Search for occurrences, returning a <code>Table{Occurrence}</code> table.</p><p><strong>Example</strong></p><p>Here we find a species with <code>species_match</code>, and then retrieve all the occurrences with <code>occurrence_search</code>.</p><pre><code class="language-julia hljs">julia&gt; 
using GBIF2

julia&gt; 
sp = species_match(&quot;Falco punctatus&quot;);

julia&gt; 
ocs = occurrence_search(sp; continent=:AFRICA, limit=1000)
[ Info: 522 occurrences found, limit was 1000
522-element GBIF2.Table{GBIF2.Occurrence, Vector{JSON3.Object}}
┌──────────────────┬─────────────────┬────────┬────────┬────────┬────────────
│ decimalLongitude │ decimalLatitude │   year │  month │    day │  kingdom  ⋯
│         Float64? │        Float64? │ Int64? │ Int64? │ Int64? │  String?  ⋯
├──────────────────┼─────────────────┼────────┼────────┼────────┼────────────
│          missing │         missing │   2012 │      8 │     18 │ Animalia  ⋯
│          missing │         missing │   2010 │      1 │     29 │ Animalia  ⋯
│          57.2452 │        -20.2239 │   2009 │     10 │     26 │ Animalia  ⋯
│          57.2452 │        -20.2239 │   2009 │     11 │      5 │ Animalia  ⋯
│          57.2452 │        -20.2239 │   2009 │     11 │      5 │ Animalia  ⋯
│          57.2452 │        -20.2239 │   2009 │     11 │      4 │ Animalia  ⋯
│          57.2452 │        -20.2239 │   2009 │     11 │      5 │ Animalia  ⋯
│          57.2452 │        -20.2239 │   2009 │     11 │      4 │ Animalia  ⋯
│          57.7667 │          -19.85 │   2007 │      6 │     19 │ Animalia  ⋯
│          57.7667 │          -19.85 │   2007 │      6 │     19 │ Animalia  ⋯
│          57.7667 │          -19.85 │   2007 │      6 │     19 │ Animalia  ⋯
│          57.7667 │          -19.85 │   2007 │      6 │     19 │ Animalia  ⋯
│          57.7667 │          -19.85 │   2007 │      6 │     19 │ Animalia  ⋯
│          57.7667 │          -19.85 │   2007 │      6 │     19 │ Animalia  ⋯
│          57.7667 │          -19.85 │   2007 │      6 │     19 │ Animalia  ⋯
│        ⋮         │        ⋮        │   ⋮    │   ⋮    │   ⋮    │    ⋮      ⋱
└──────────────────┴─────────────────┴────────┴────────┴────────┴────────────
                                              78 columns and 507 rows omitted</code></pre><p><strong>Arguments</strong></p><ul><li><p><code>q</code>: a search query.</p></li><li><p><code>species</code>: if the first value is a species, search keywords will be retrieved from it.</p></li><li><p><code>returntype</code>: modify the returntype, with a <code>Symbol</code> from :</p><ul><li><p><code>:catalogNumber</code>: Search that returns matching catalog numbers. Table are ordered by relevance.</p></li><li><p><code>:collectionCode</code>: Search that returns matching collection codes. Table are ordered by relevance.</p></li><li><p><code>:occurrenceId</code>: Search that returns matching occurrence identifiers. Table are ordered by relevance.</p></li><li><p><code>:recordedBy</code>: Search that returns matching collector names. Table are ordered by relevance.</p></li><li><p><code>:recordNumber</code>: Search that returns matching record numbers. Table are ordered by relevance.</p></li><li><p><code>:institutionCode</code>: Search that returns matching institution codes. Table are ordered by relevance.</p></li></ul></li></ul><p><strong>Keywords</strong></p><p>We use parameters exactly as in the <a href="https://www.gbif.org/developer/species">GBIF api</a>.</p><p>You can find keyword enum values with the <code>[GBIF2.enum](@ref)</code> function.</p><p>GBIF range queries work by putting values in a <code>Tuple</code>, e.g. <code>elevation=(10, 100)</code>.</p><ul><li><code>basisOfRecord</code>: Basis of record, as defined in our BasisOfRecord enum</li><li><code>catalogNumber</code>: An identifier of any form assigned by the source within a physical collection or digital dataset for the record which may not be unique, but should be fairly unique in combination with the institution and collection code.</li><li><code>classKey</code>: Class classification key.</li><li><code>collectionCode</code>: An identifier of any form assigned by the source to identify the physical collection or digital dataset uniquely within the context of an institution.</li><li><code>continent</code>: Continent, as defined in our Continent enum</li><li><code>coordinateUncertaintyInMeters</code>: The horizontal distance (in meters) from the given decimalLatitude and decimalLongitude describing the smallest circle containing the whole of the Location. Supports range queries.</li><li><code>country</code>: The 2-letter country code (as per ISO-3166-1) of the country in which the occurrence was recorded.</li><li><code>crawlId</code>: Crawl attempt that harvested this record.</li><li><code>datasetId</code>: The ID of the dataset.</li><li><code>datasetKey</code>: The occurrence dataset key (a uuid).</li><li><code>datasetName</code>: The name of the dataset.</li><li><code>decimalLatitude</code>: Latitude in decimals between -90 and 90 based on WGS 84. Supports range queries.</li><li><code>decimalLongitude</code>: Longitude in decimals between -180 and 180 based on WGS 84. Supports range queries.</li><li><code>depth</code>: Depth in meters relative to altitude. For example 10 meters below a lake surface with given altitude. Supports range queries.</li><li><code>elevation</code>: Elevation (altitude) in meters above sea level. Supports range queries.</li><li><code>establishmentMeans</code>: EstablishmentMeans, as defined in our EstablishmentMeans enum</li><li><code>eventDate</code>: Occurrence date in ISO 8601 format: <code>yyyy</code>, <code>yyyy-MM</code>, <code>yyyy-MM-dd</code>, or <code>MM-dd</code>. Supports range queries.</li><li><code>eventId</code>: An identifier for the information associated with a sampling event.</li><li><code>facet</code>: A facet name used to retrieve the most frequent values for a field. Facets are allowed for all the parameters except for: eventDate, geometry, lastInterpreted, locality, organismId, stateProvince, waterBody. This parameter may by repeated to request multiple facets, as in this example /occurrence/search?facet=datasetKey&amp;facet=basisOfRecord&amp;limit=0</li><li><code>facetMincount</code>: Used in combination with the facet parameter. Set facetMincountN to exclude facets with a count less than N, e.g. /search?facet=type&amp;limit=0&amp;facetMincount=10000 only shows the type value &#39;OCCURRENCE&#39; because &#39;CHECKLIST&#39; and &#39;METADATA&#39; have counts less than 10000.</li><li><code>facetMultiselect</code>: Used in combination with the facet parameter. Set facetMultiselect=true to still return counts for values that are not currently filtered, e.g. /search?facet=type&amp;limit=0&amp;type=CHECKLIST&amp;facetMultiselect=true still shows type values &#39;OCCURRENCE&#39; and &#39;METADATA&#39; even though type is being filtered by type=CHECKLIST</li><li><code>facetOffset</code>: </li><li><code>facetLimit</code>: Facet parameters allow paging requests using the parameters facetOffset and facetLimit as this example /occurrence/search?facet=datasetKey&amp;datasetKey.facetLimit=5&amp;datasetKey.facetOffset=10&amp;limit=0</li><li><code>familyKey</code>: Family classification key.</li><li><code>format</code>: Export format, accepts TSV(default) and CSV</li><li><code>fromDate</code>: Start partial date of a date range, accepts the format <code>yyyy-MM</code>, for example: <code>2015-11</code></li><li><code>gadmGid</code>: A GADM geographic identifier at any level, for example AGO, AGO.1<em>1, AGO.1.1</em>1 or AGO.1.1.1_1</li><li><code>gadmLevel</code>: A GADM region level, valid values range from 0 to 3</li><li><code>gadmLevel0Gid</code>: A GADM geographic identifier at the zero level, for example AGO</li><li><code>gadmLevel1Gid</code>: A GADM geographic identifier at the first level, for example AGO.1_1</li><li><code>gadmLevel2Gid</code>: A GADM geographic identifier at the second level, for example AFG.1.1_1</li><li><code>gadmLevel3Gid</code>: A GADM geographic identifier at the third level, for example AFG.1.1.1_1</li><li><code>genusKey</code>: Genus classification key.</li><li><code>geoDistance</code>: Filters to match occurrence records with coordinate values within a specified distance of a coordinate, it supports units: in (inch), yd (yards), ft (feet), km (kilometers), mmi (nautical miles), mm (millimeters), cm centimeters, mi (miles), m (meters), for example /occurrence/search?geoDistance=90,100,5km</li><li><code>geometry</code>: Searches for occurrences inside a polygon described in Well Known Text (WKT) format. Only POINT, LINESTRING, LINEARRING, POLYGON and MULTIPOLYGON are accepted WKT types. For example, a shape written as POLYGON ((30.1 10.1, 40 40, 20 40, 10 20, 30.1 10.1)) would be queried as is, i.e. /occurrence/search?geometry=POLYGON((30.1 10.1, 40 40, 20 40, 10 20, 30.1 10.1)). Polygons must have anticlockwise ordering of points, or will give unpredictable results. (A clockwise polygon represents the opposite area: the Earth&#39;s surface with a &#39;hole&#39; in it. Such queries are not supported.)</li><li><code>hasCoordinate</code>: Limits searches to occurrence records which contain a value in both latitude and longitude (i.e. <code>hasCoordinate=true</code> limits to occurrence records with coordinate values and `hasCoordinate=false limits to occurrence records without coordinate values).</li><li><code>hasGeospatialIssue</code>: Includes/excludes occurrence records which contain spatial issues (as determined in our record interpretation), i.e. hasGeospatialIssue=true returns only those records with spatial issues while hasGeospatialIssue=false includes only records without spatial issues. The absence of this parameter returns any record with or without spatial issues.</li><li><code>hl</code>: Set hl=true to highlight terms matching the query when in fulltext search fields. The highlight will be an emphasis tag of class &#39;gbifH1&#39; e.g. /search?q=plant&amp;hl=true. Fulltext search fields include: title, keyword, country, publishing country, publishing organization title, hosting organization title, and description. One additional full text field is searched which includes information from metadata documents, but the text of this field is not returned in the response.</li><li><code>identifiedBy</code>: The person who provided the taxonomic identification of the occurrence.</li><li><code>identifiedByID</code>: Identifier (e.g. ORCID) for the person who provided the taxonomic identification of the occurrence.</li><li><code>institutionCode</code>: An identifier of any form assigned by the source to identify the institution the record belongs to. Not guaranteed to be unique.</li><li><code>issue</code>: A specific interpretation issue as defined in our OccurrenceIssue enum</li><li><code>kingdomKey</code>: Kingdom classification key.</li><li><code>lastInterpreted</code>: This date the record was last modified in GBIF, in ISO 8601 format: <code>yyyy</code>, <code>yyyy-MM</code>, <code>yyyy-MM-dd</code>, or <code>MM-dd</code>. Supports range queries. Note that this is the date the record was last changed in GBIF, not necessarily the date the record was first/last changed by the publisher. Data is re-interpreted when we change the taxonomic backbone, geographic data sources, or interpretation processes.</li><li><code>license</code>: The type license applied to the dataset or record.</li><li><code>limit</code>: The maximum number of results to return. This can&#39;t be greater than 300, any value greater is set to 300.</li><li><code>locality</code>: The specific description of the place.</li><li><code>mediaType</code>: The kind of multimedia associated with an occurrence as defined in our MediaType enum</li><li><code>modified</code>: The most recent date-time on which the resource was changed, according to the publisher</li><li><code>month</code>: The month of the year, starting with 1 for January. Supports range queries.</li><li><code>networkKey</code>: The GBIF Network to which the occurrence belongs.</li><li><code>occurrenceId</code>: A single globally unique identifier for the occurrence record as provided by the publisher.</li><li><code>occurrenceStatus</code>: Either &#39;ABSENT&#39; or &#39;PRESENT&#39;; the presence or absence of the occurrence.</li><li><code>offset</code>: Offset to start results from</li><li><code>orderKey</code>: Order classification key.</li><li><code>organismId</code>: An identifier for the Organism instance (as opposed to a particular digital record of the Organism). May be a globally unique identifier or an identifier specific to the data set.</li><li><code>organismQuantity</code>: A number or enumeration value for the quantity of organisms.</li><li><code>organismQuantityType</code>: The type of quantification system used for the quantity of organisms.</li><li><code>otherCatalogNumbers</code>: Previous or alternate fully qualified catalog numbers.</li><li><code>phylumKey</code>: Phylum classification key.</li><li><code>preparations</code>: Preparation or preservation method for a specimen.</li><li><code>programme</code>: A group of activities, often associated with a specific funding stream, such as the GBIF BID programme.</li><li><code>projectId</code>: The identifier for a project, which is often assigned by a funded programme.</li><li><code>protocol</code>: Protocol or mechanism used to provide the occurrence record.</li><li><code>publishingCountry</code>: The 2-letter country code (as per ISO-3166-1) of the owining organization&#39;s country.</li><li><code>publishingOrg</code>: The publishing organization key (a uuid).</li><li><code>publishingOrgKey</code>: The publishing organization key (a uuid).</li><li><code>q</code>: Simple search parameter. The value for this parameter can be a simple word or a phrase.</li><li><code>recordedBy</code>: The person who recorded the occurrence.</li><li><code>recordedByID</code>: Identifier (e.g. ORCID) for the person who recorded the occurrence.</li><li><code>recordNumber</code>: An identifier given to the record at the time it was recorded in the field.</li><li><code>relativeOrganismQuantity</code>: The relative measurement of the quantity of the organism (i.e. without absolute units).</li><li><code>repatriated</code>: Searches for records whose publishing country is different to the country where the record was recorded in.</li><li><code>sampleSizeUnit</code>: The unit of measurement of the size (time duration, length, area, or volume) of a sample in a sampling event.</li><li><code>sampleSizeValue</code>: A numeric value for a measurement of the size (time duration, length, area, or volume) of a sample in a sampling event.</li><li><code>samplingProtocol</code>: The name of, reference to, or description of the method or protocol used during a sampling event</li><li><code>scientificName</code>: A scientific name from the GBIF backbone. All included and synonym taxa are included in the search. Under the hood a call to the species match service is done first to retrieve a taxonKey. Only unique scientific names will return results, homonyms (many monomials) return nothing! Consider to use the taxonKey parameter instead and the species match service directly</li><li><code>speciesKey</code>: Species classification key.</li><li><code>stateProvince</code>: he name of the next smaller administrative region than country (state, province, canton, department, region, etc.) in which the Location occurs.</li><li><code>subgenusKey</code>: Subgenus classification key.</li><li><code>taxonKey</code>: A taxon key from the GBIF backbone. All included and synonym taxa are included in the search, so a search for aves with taxonKey=212 (i.e. <code>coordinate_search(; taxonKey=212)</code>) will match all birds, no matter which species.</li><li><code>toDate</code>: End partial date of a date range, accepts the format <code>yyyy-MM</code>, for example: <code>2019-12</code></li><li><code>typeStatus</code>: Nomenclatural type (type status, typified scientific name, publication) applied to the subject.</li><li><code>userCountry</code>: Country country of the user who made the requested</li><li><code>verbatimScientificName</code>: The scientific name provided to GBIF by the data publisher, before interpretation and processing by GBIF.</li><li><code>verbatimTaxonId</code>: The taxon identifier provided to GBIF by the data publisher.</li><li><code>waterBody</code>: The name of the water body in which the Locations occurs.</li><li><code>year</code>: The 4 digit year. A year of <code>98</code> will be interpreted as AD 98. Supports range queries.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/occurrence.jl#L154-L217">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.occurrence" href="#GBIF2.occurrence"><code>GBIF2.occurrence</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">occurrence(key; [returntype])
occurrence(occurrence::Occurrence; [returntype])
occurrence(datasetKey, occurrenceID; [returntype])</code></pre><p>Retrieve a single <a href="#GBIF2.Occurrence"><code>Occurrence</code></a> by its <code>key</code>, by <code>datasetKey</code> and <code>occurrenceID</code> or by passing in an <code>Occurrence</code> object.</p><p><strong>Keyword</strong></p><ul><li><code>returntype</code> modifies the return value, and can be <code>:fragment</code> or <code>:verbatim</code>.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">using GBIF2
sp = species_match(&quot;Falco punctatus&quot;)
ocs = occurrence_search(sp)
oc = occurrence(ocs[1]; returntype=:verbatim)

# output
GBIF2.Occurrence({
                                              &quot;key&quot;: 3556750430,
                                       &quot;datasetKey&quot;: &quot;4fa7b334-ce0d-4e88-aaae-2e0c138d049e&quot;,
                                 &quot;publishingOrgKey&quot;: &quot;e2e717bf-551a-4917-bdc9-4fa0f342c530&quot;,
                                  &quot;installationKey&quot;: &quot;7182d304-b0a2-404b-baba-2086a325c221&quot;,
                                &quot;publishingCountry&quot;: &quot;MU&quot;,
                                         &quot;protocol&quot;: &quot;DWC_ARCHIVE&quot;,
                                      &quot;lastCrawled&quot;: &quot;2022-03-02T17:41:33.833+00:00&quot;,
                                       &quot;lastParsed&quot;: &quot;2022-09-08T14:55:01.342+00:00&quot;,
                                          &quot;crawlId&quot;: 15,
                                       &quot;extensions&quot;: {},
   &quot;http://rs.gbif.org/terms/1.0/publishingCountry&quot;: &quot;MU&quot;,
             &quot;http://rs.tdwg.org/dwc/terms/country&quot;: &quot;Mauritius&quot;,
      &quot;http://rs.tdwg.org/dwc/terms/collectionCode&quot;: &quot;EBIRD&quot;,
               &quot;http://rs.tdwg.org/dwc/terms/order&quot;: &quot;Falconiformes&quot;,
                &quot;http://rs.tdwg.org/dwc/terms/year&quot;: &quot;2021&quot;,
      &quot;http://rs.tdwg.org/dwc/terms/vernacularName&quot;: &quot;Mauritius Kestrel&quot;,
            &quot;http://rs.tdwg.org/dwc/terms/locality&quot;: &quot;Ebony Forest Reserve Chamarel&quot;,
       &quot;http://rs.tdwg.org/dwc/terms/basisOfRecord&quot;: &quot;HumanObservation&quot;,
              &quot;http://rs.tdwg.org/dwc/terms/family&quot;: &quot;Falconidae&quot;,
               &quot;http://rs.tdwg.org/dwc/terms/month&quot;: &quot;07&quot;,
     &quot;http://rs.tdwg.org/dwc/terms/decimalLatitude&quot;: &quot;-20.436033&quot;,
      &quot;http://rs.tdwg.org/dwc/terms/taxonConceptID&quot;: &quot;avibase-D1069C26&quot;,
      &quot;http://rs.tdwg.org/dwc/terms/scientificName&quot;: &quot;Falco punctatus&quot;,
          &quot;http://rs.tdwg.org/dwc/terms/recordedBy&quot;: &quot;obsr2637790&quot;,
       &quot;http://rs.tdwg.org/dwc/terms/stateProvince&quot;: &quot;Black River&quot;,
              &quot;http://rs.tdwg.org/dwc/terms/phylum&quot;: &quot;Chordata&quot;,
              &quot;http://rs.gbif.org/terms/1.0/gbifID&quot;: &quot;3556750430&quot;,
                 &quot;http://rs.tdwg.org/dwc/terms/day&quot;: &quot;15&quot;,
               &quot;http://rs.tdwg.org/dwc/terms/genus&quot;: &quot;Falco&quot;,
             &quot;http://rs.tdwg.org/dwc/terms/kingdom&quot;: &quot;Animalia&quot;,
              &quot;http://purl.org/dc/terms/identifier&quot;: &quot;OBS1201437854&quot;,
               &quot;http://rs.tdwg.org/dwc/terms/class&quot;: &quot;Aves&quot;,
     &quot;http://rs.tdwg.org/dwc/terms/individualCount&quot;: &quot;1&quot;,
     &quot;http://rs.tdwg.org/dwc/terms/specificEpithet&quot;: &quot;punctatus&quot;,
        &quot;http://rs.tdwg.org/dwc/terms/occurrenceID&quot;: &quot;URN:catalog:CLO:EBIRD:OBS1201437854&quot;,
       &quot;http://rs.tdwg.org/dwc/terms/catalogNumber&quot;: &quot;OBS1201437854&quot;,
    &quot;http://rs.tdwg.org/dwc/terms/decimalLongitude&quot;: &quot;57.37246&quot;,
     &quot;http://rs.tdwg.org/dwc/terms/institutionCode&quot;: &quot;CLO&quot;,
       &quot;http://rs.tdwg.org/dwc/terms/geodeticDatum&quot;: &quot;WGS84&quot;,
    &quot;http://rs.tdwg.org/dwc/terms/occurrenceStatus&quot;: &quot;PRESENT&quot;
})</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/occurrence.jl#L65-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.occurrence_request" href="#GBIF2.occurrence_request"><code>GBIF2.occurrence_request</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">occurrence_request(sp::Species; kw...)
occurrence_request(; kw...)</code></pre><p>Request an occurrence download, returning a token that will later provide a download url. You can call <code>occurrence_download(token)</code> when it is ready. Prior to that, you will get 404 errors.</p><p><strong>Example</strong></p><p>Here we request to dowload all of the occurrences of the Common Myna, <em>Acridotheres tristis</em>.</p><pre><code class="nohighlight hljs">julia&gt; sp = species_match(&quot;Acridotheres tristis&quot;);

julia&gt; occurrence_count(sp)
1936341
julia&gt; token = occurrence_request(sp, username=&quot;my_gbif_username&quot;)</code></pre><p>This will prompt for your password, and either throw an error or return a value for the <code>token</code> to use later in <code>occurrence_download</code>.</p><p>If you forgot to store the token and your session is still open, you can simply use <code>occurrence_download()</code> to download the most recent request.</p><p><strong>Keywords</strong></p><ul><li><code>username</code>: String username for a gbif.org account</li><li><code>password</code>: String password for a gbif.org account. The password   will be entered in the REPL if this keyword is not used.</li><li><code>type</code>: choose from an <code>:and</code> or <code>:or</code> query.</li></ul><p>Allowed query keywords are: <code>(:datasetKey, :year, :month, :decimalLatitude, :decimalLongitude, :elevation, :depth, :institutionCode, :collectionCode, :catalogNumber, :scientificName, :occurrenceID, :establishmentMeans, :degreeOfEstablishment, :pathway, :eventDate, :modified, :lastInterpreted, :basisOfRecord, :countryCode, :continent, :publishingCountry, :recordedBy, :identifiedBy, :recordNumber, :typeStatus, :hasCoordinate, :hasGeospatialIssues, :mediaType, :issue, :kingdomKey, :phylumKey, :classKey, :orderKey, :familyKey, :genusKey, :subgenusKey, :speciesKey, :acceptedTaxonKey, :taxonomicStatus, :repatriated, :organismID, :locality, :coordinateUncertaintyInMeters, :stateProvince, :waterBody, :level0Gid, :level1Gid, :level2Gid, :level3Gid, :protocol, :license, :publishingOrgKey, :hostingOrganizationKey, :crawlId, :installationKey, :networkKey, :eventID, :parentEventID, :samplingProtocol, :projectId, :programmeAcronym, :verbatimScientificName, :taxonID, :sampleSizeUnit, :sampleSizeValue, :organismQuantity, :organismQuantityType, :relativeOrganismQuantity, :collectionKey, :institutionKey, :recordedByID, :identifiedByID, :occurrenceStatus, :lifeStage, :isInCluster, :dwcaExtension, :iucnRedListCategory, :datasetID, :datasetName, :otherCatalogNumbers, :preparations)</code></p><p><strong>Modifiers</strong></p><p>Prameter values can modify the kind of match by using a pair: <code>elevation = :lessThan =&gt; 100</code>, or using julia Fix2 operators like <code>elevation = &gt;(100)</code>.</p><table><tr><th style="text-align: left">Pair key</th><th style="text-align: right">Fix2</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left">:equals</td><td style="text-align: right">==(x)</td><td style="text-align: left">equality comparison</td></tr><tr><td style="text-align: left">:lessThan</td><td style="text-align: right">&lt;(x)</td><td style="text-align: left">is less than</td></tr><tr><td style="text-align: left">:lessThanOrEquals</td><td style="text-align: right">&lt;=(x)</td><td style="text-align: left">is less than or equals</td></tr><tr><td style="text-align: left">:greaterThan</td><td style="text-align: right">=&gt;(x)</td><td style="text-align: left">is greater than</td></tr><tr><td style="text-align: left">:greaterThanOrEquals</td><td style="text-align: right">&gt;=(x)</td><td style="text-align: left">greater than or equals</td></tr><tr><td style="text-align: left">:in</td><td style="text-align: right">in(x)</td><td style="text-align: left">specify multiple values to be compared</td></tr><tr><td style="text-align: left">:not</td><td style="text-align: right">!=(x)</td><td style="text-align: left">logical negation</td></tr><tr><td style="text-align: left">:and</td><td style="text-align: right">&amp;(x)</td><td style="text-align: left">logical AND (conjuction)</td></tr><tr><td style="text-align: left">:or</td><td style="text-align: right"></td><td style="text-align: left">(x)</td></tr><tr><td style="text-align: left">:like</td><td style="text-align: right"></td><td style="text-align: left">search for a pattern, ? matches one character, * matches zero or more characters</td></tr></table><p><strong>To pass instead of a value:</strong></p><p>|:isNull    | has an empty value    | |:isNotNull | has a non-empty value |</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/occurrence.jl#L361-L422">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.occurrence_download" href="#GBIF2.occurrence_download"><code>GBIF2.occurrence_download</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">occurrence_download([key::String]; [filename])</code></pre><p>Download the data for an occurrence key returned by <code>occurrence_request</code>, or without arguments download the last result of <code>occurrence_request</code>.</p><p>Note that <code>occurrence_download</code> depends on gbif.org preparing the download. Prior to it will give a 404 error as the page will not be found.</p><p>The <code>filename</code> keyword can be used to name the resulting file.</p><p><strong>Example</strong></p><p>Request all the common mynor birds below 100m of elevation:</p><pre><code class="nohighlight hljs">sp = species_match(&quot;Acridotheres tristis&quot;);
token = occurrence_request(sp, username=&quot;my_gbif_username&quot;, elevation=&lt;(100))
write(&quot;mydownloadtoken&quot;, string(token)) # save it just in case
# wait for your download to be prepared
# If you need to, read the token again:
token = readlines(&quot;mydownloadtoken&quot;)[1]
# And download it
filename = GBIF2.occurrence_download(token)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/occurrence.jl#L500-L525">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.occurrence_count" href="#GBIF2.occurrence_count"><code>GBIF2.occurrence_count</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">occurrence_count(species::Species; kw...)
occurrence_count(; kw...)</code></pre><p>Count the number of occurrences for a taxon.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">juila&gt; sp = species_match(&quot;Pteropus niger&quot;);

juila&gt; occurrence_count(sp)
559</code></pre><p><strong>Keywords</strong></p><ul><li><code>taxonKey</code>: is the most useful key when a <code>Species</code> is not passed.</li></ul><p>Occurrence counts have a complicated schema of allowed keyword combinations. You can access these from the GBIF api using <code>GBIF2.occurrence_count_schema()</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/occurrence.jl#L257-L278">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.occurrence_count_schema" href="#GBIF2.occurrence_count_schema"><code>GBIF2.occurrence_count_schema</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">occurrence_count_schema()</code></pre><p>Return the raw schema of allowed keyword/parameter combinations to be used with <code>occurrence_count</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/occurrence.jl#L345-L350">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.occurrence_inventory" href="#GBIF2.occurrence_inventory"><code>GBIF2.occurrence_inventory</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">occurrence_inventory(type::Symbol; kw...)</code></pre><p>Return the number of occurrences for a taxon based on  certain criteria. The return value is a JSON3.jl object.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">julia&gt; country_counts = occurrence_inventory(:countries)
JSON3.Object{Vector{UInt8}, Vector{UInt64}} with 252 entries:
  :UNITED_STATES  =&gt; 816855696
  :CANADA         =&gt; 133550183
  :FRANCE         =&gt; 119683053
  :SWEDEN         =&gt; 116451484
  :AUSTRALIA      =&gt; 115239040
  :UNITED_KINGDOM =&gt; 108417142
  :NETHERLANDS    =&gt; 85750415
  :SPAIN          =&gt; 54804973
  :DENMARK        =&gt; 49334935
  :GERMANY        =&gt; 49290658
  :NORWAY         =&gt; 48337823
  :FINLAND        =&gt; 36970838
  :BELGIUM        =&gt; 35064346
  :SOUTH_AFRICA   =&gt; 33185318
  :INDIA          =&gt; 32071907
  :MEXICO         =&gt; 26295593
  :BRAZIL         =&gt; 24558941
  :COSTA_RICA     =&gt; 21103286
  :COLOMBIA       =&gt; 20143253
  :SWITZERLAND    =&gt; 17727317
  :PORTUGAL       =&gt; 17688228
  ⋮               =&gt; ⋮

julia&gt; country_counts.INDIA
32071907</code></pre><p><strong>Keywords</strong></p><ul><li><code>type</code>: inventory accross categories, with additional keywords from: </li></ul><p><code>(basisOfRecord = (), countries = :publishingCountry, datasets = (:country, :taxonKey), publishingCountry = (:publishingCountry,), year = (:year,))</code></p><p>Occurrence counts have a complicated schema of allowed keyword combinations. You can access these from the GBIF api using <code>occurrence_count_schema()</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/occurrence.jl#L290-L335">source</a></section></article><h1 id="Low-level"><a class="docs-heading-anchor" href="#Low-level">Low level</a><a id="Low-level-1"></a><a class="docs-heading-anchor-permalink" href="#Low-level" title="Permalink"></a></h1><p>Species and occurrences are return in a generalised <code>Table</code> object.</p><article class="docstring"><header><a class="docstring-binding" id="GBIF2.Table" href="#GBIF2.Table"><code>GBIF2.Table</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Table &lt;: AbstractVector</code></pre><p>A generic <code>Vector</code> and Tables.jl compatible table to hold both <code>Occurrence</code> and <code>Species</code> data.</p><p>Use as any julia <code>AbstractArray</code> to access species or occurrence records, or use with the Tables.jl interface to convert to a DataFrame or e.g. CSV.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/table.jl#L2-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.enum" href="#GBIF2.enum"><code>GBIF2.enum</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">enum()
enum(k::Symbol)</code></pre><p>Get the enum values for the keyword <code>k</code>, or for all enums in a <code>NamedTuple</code>.</p><p>Enum keywords are in (:basisOfRecord, :continent, :establishmentMeans, :habitat, :issue, :nameType, :rank, :threat, :taxonomicStatus).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/1f171186b201f7808610a84406b76eeb7d1c7b16/src/enums.jl#L193-L200">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Monday 17 October 2022 01:21">Monday 17 October 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
