<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · GBIF2.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://docs.EcoJulia.org/GBIF2.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>GBIF2.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/EcoJulia/GBIF2.jl/blob/main/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="GBIF2"><a class="docs-heading-anchor" href="#GBIF2">GBIF2</a><a id="GBIF2-1"></a><a class="docs-heading-anchor-permalink" href="#GBIF2" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/rafaqz/GBIF2.jl">GBIF2</a>.</p><article class="docstring"><header><a class="docstring-binding" id="GBIF2.GBIF2" href="#GBIF2.GBIF2"><code>GBIF2.GBIF2</code></a> — <span class="docstring-category">Module</span></header><section><div><p><strong>GBIF2</strong></p><p><a href="https://stable.ecojulia.org/GBIF2.jl/"><img src="https://img.shields.io/badge/docs-stable-blue.svg" alt="Stable"/></a> <a href="https://docs.ecojulia.org/GBIF2.jl/"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt="Dev"/></a> <a href="https://github.com/EcoJulia/GBIF2.jl/actions/workflows/CI.yml?query=branch%3Amain"><img src="https://github.com/EcoJulia/GBIF2.jl/actions/workflows/CI.yml/badge.svg?branch=main" alt="Build Status"/></a> <a href="https://codecov.io/gh/rafaqz/GBIF2.jl"><img src="https://codecov.io/gh/EcoJulia/GBIF2.jl/branch/main/graph/badge.svg" alt="Coverage"/></a></p><p>The goals of GBIF2 is to follow the GBIF api as completely and correctly as possible.</p><p>Its main design features are:</p><ul><li>Single results are <code>Occurrence</code> or <code>Species</code> objects with all GBIF fields available using <code>object.fieldname</code>,   returning missing if not returned by a specific query.</li><li>Multiple results are returned as a Tables.jl compatible <code>Table</code> of <code>Occurrence</code> or <code>Species</code> rows.    This <code>Table</code> can be converted to a <code>DataFrame</code> or writted directly to disk using CSV.jl and similar packages.</li><li>All GBIF enum keys are checked for correctness before querying so that only correct queries can be sent.    Clear messages point to errors in queries.</li><li>A <code>limit</code> above <code>300</code> items at a time is allowed, unlike in the original API, by making   multiple reuests and joining the results.</li><li>For even larger queries, download requests are handled with gbif.org account authentication.</li></ul><p><strong>A quick example</strong></p><pre><code class="language-julia hljs">julia&gt; using GBIF2, DataFrames

# Basic species match with `species_match`:
julia&gt; sp = species_match(&quot;Lalage newtoni&quot;);

julia&gt; sp.species
&quot;Coracina newtoni&quot;

julia&gt; sp.synonym
true

julia&gt; sp.vernacularName
missing

# Get a more detailed object with `species`:
julia&gt; sp_detailed = species(sp);

julia&gt; sp_detailed.vernacularName
&quot;Reunion Cuckooshrike&quot;

# Get the first 2000 occurrences for the species from 2000 to 2020, on reunion:
julia&gt; oc = occurrence_search(sp;
           limit=2000, country=:RE, hasCoordinate=true, year=(2000,2020)
       ) |&gt; DataFrame
2000×83 DataFrame
  Row │ decimalLongitude  decimalLatitude  year    month   day
      │ Float64?          Float64?         Int64?  Int64?  Int64?
──────┼────────────────────────────────────────────────────────────
    1 │          55.5085         -21.0192    2020       1      14
    2 │          55.4133         -20.928     2020       1      23
    3 │          55.4133         -20.928     2020       1      16
    4 │          55.5085         -21.0192    2020       1      14
    5 │          55.4123         -21.0184    2020       1      13
    6 │          55.4133         -20.928     2020       1      28
    7 │          55.4133         -20.928     2020       1      16
  ⋮   │        ⋮                 ⋮           ⋮       ⋮       ⋮
 1994 │          55.4133         -20.928     2017      10      29
 1995 │          55.4123         -21.0184    2017      10      25
 1996 │          55.4123         -21.0184    2017      10      25
 1997 │          55.4123         -21.0184    2017      10      17
 1998 │          55.4123         -21.0184    2017      10      25
 1999 │          55.4123         -21.0184    2017      10      25
 2000 │          55.4123         -21.0184    2017      10      25</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/cada73162c2b9b3faf0bcb55f7726ce92ab3883a/src/GBIF2.jl#L4-L72">source</a></section></article><ul><li><a href="#GBIF2.GBIF2"><code>GBIF2.GBIF2</code></a></li><li><a href="#GBIF2.Species"><code>GBIF2.Species</code></a></li><li><a href="#GBIF2.species"><code>GBIF2.species</code></a></li><li><a href="#GBIF2.species_list"><code>GBIF2.species_list</code></a></li><li><a href="#GBIF2.species_match"><code>GBIF2.species_match</code></a></li><li><a href="#GBIF2.species_search"><code>GBIF2.species_search</code></a></li></ul><p>There are a number of ways to query the GBIF database for species,  returning different numbers of results and amounts of data.</p><p><code>Species</code> objects and queries correspond closely to the <a href="https://www.gbif.org/developer/species">GBIF species api</a>.</p><article class="docstring"><header><a class="docstring-binding" id="GBIF2.Species" href="#GBIF2.Species"><code>GBIF2.Species</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Species</code></pre><p>Wrapper object for information returned by <a href="#GBIF2.species"><code>species</code></a>, <a href="@ref"><code>species_list</code> </a>, <a href="@ref"><code>species_match</code> </a> or <a href="#GBIF2.species_search"><code>species_search</code></a> queries. These often are species, but a more correctly taxa, as it may be e.g. &quot;Aves&quot; for all birds. We use <code>Species</code> for naming consistency with the GBIF API.</p><p>Species also serve as rows in <a href="@ref"><code>Table</code></a>, and are converted to rows in a DataFrame or CSV automatically by the Tables.jl interface.</p><p><code>Species</code> properties are accessed with <code>.</code>, e.g. <code>sp.kingdom</code>. Note that these queries do not all return all properties, and not all records contain all properties in any case. Missing properties simply return <code>missing</code>.</p><p>The possible properties of a <code>Species</code> object are: (kingdom = Union{Missing, String}, phylum = Union{Missing, String}, class = Union{Missing, String}, order = Union{Missing, String}, family = Union{Missing, String}, genus = Union{Missing, String}, species = Union{Missing, String}, key = Union{Missing, Int64}, nubKey = Union{Missing, Int64}, nameKey = Union{Missing, Int64}, taxonID = Union{Missing, String}, sourceTaxonKey = Union{Missing, Int64}, kingdomKey = Union{Missing, Int64}, phylumKey = Union{Missing, Int64}, classKey = Union{Missing, Int64}, orderKey = Union{Missing, Int64}, familyKey = Union{Missing, Int64}, genusKey = Union{Missing, Int64}, speciesKey = Union{Missing, Int64}, datasetKey = Union{Missing, String}, constituentKey = Union{Missing, String}, scientificName = Union{Missing, String}, canonicalName = Union{Missing, String}, vernacularName = Union{Missing, String}, parentKey = Union{Missing, Int64}, parent = Union{Missing, String}, basionymKey = Union{Missing, Int64}, basionym = Union{Missing, String}, authorship = Union{Missing, String}, nameType = Union{Missing, String}, rank = Union{Missing, String}, origin = Union{Missing, String}, taxonomicStatus = Union{Missing, String}, nomenclaturalStatus = Union{Missing, Vector{String}}, remarks = Union{Missing, String}, publishedIn = Union{Missing, String}, numDescendants = Union{Missing, Int64}, lastCrawled = Union{Missing, String}, lastInterpreted = Union{Missing, String}, issues = Union{Missing, Vector{String}}, synonym = Union{Missing, Bool})</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/cada73162c2b9b3faf0bcb55f7726ce92ab3883a/src/species.jl#L30-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.species" href="#GBIF2.species"><code>GBIF2.species</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">species(key; kw...)
species(key, resulttype; kw...)</code></pre><p>Query the GBIF <code>species</code> api, returning a single <code>Species</code>.</p><ul><li><code>key</code>: a species key, or <code>Species</code> object from another search that a key can be   obtained from.</li><li><code>resulttype</code>: set this so that instead of a <code>Species</code>, <code>species</code> will return an   object in <code>(:verbatim, :name, :parents, :children, :related, :synonyms, :combinations, :descriptions, :distributions, :media, :references, :speciesProfiles, :vernacularNames, :typeSpecimens)</code>. The return value will be a raw JSON3.Object<code>,   but its</code>propertynames` can be checked and used to access data.</li></ul><p><strong>Example</strong></p><p>Here we find a species with <code>species_search</code>, and then obtain the complete record with <code>species</code>.</p><pre><code class="language-julia hljs">julia&gt; using GBIF2
julia&gt; tbl = species_search(&quot;Falco punctatus&quot;)
20-element GBIF2.Table{GBIF2.Species, JSON3.Array{JSON3.Object, Vector{UInt8}, SubArray{
UInt64, 1, Vector{UInt64}, Tuple{UnitRange{Int64}}, true}}}
┌──────────┬──────────┬───────────────┬───────────────┬────────────┬─────────┬──────────
│  kingdom │   phylum │         class │         order │     family │   genus │         ⋯
│  String? │  String? │       String? │       String? │    String? │ String? │         ⋯
├──────────┼──────────┼───────────────┼───────────────┼────────────┼─────────┼──────────
│ Animalia │  missing │          Aves │ Falconiformes │ Falconidae │ missing │ Falco p ⋯
│ Animalia │  missing │          Aves │       missing │ Falconidae │   Falco │ Falco p ⋯
│  missing │  missing │          Aves │ Falconiformes │ Falconidae │   Falco │ Falco p ⋯
│  missing │ Chordata │       missing │       missing │ Falconidae │   Falco │ Falco p ⋯
│ Animalia │ Chordata │          Aves │ Falconiformes │ Falconidae │   Falco │ Falco p ⋯
│ Animalia │ Chordata │          Aves │ Falconiformes │ Falconidae │   Falco │ Falco p ⋯
│  Metazoa │ Chordata │          Aves │ Falconiformes │ Falconidae │   Falco │ Falco p ⋯
│ Animalia │  missing │       missing │ Falconiformes │ Falconidae │ missing │ Falco p ⋯
│  Metazoa │ Chordata │          Aves │ Falconiformes │ Falconidae │   Falco │ Falco p ⋯
│    ⋮     │    ⋮     │       ⋮       │       ⋮       │     ⋮      │    ⋮    │         ⋱
└──────────┴──────────┴───────────────┴───────────────┴────────────┴─────────┴──────────
                                                          35 columns and 11 rows omitted

julia&gt; species(tbl[6])
GBIF2.Species({
                   &quot;key&quot;: 102091853,
                &quot;nubKey&quot;: 2481005,
               &quot;nameKey&quot;: 4400647,
               &quot;taxonID&quot;: &quot;175650&quot;,
               &quot;kingdom&quot;: &quot;Animalia&quot;,
                &quot;phylum&quot;: &quot;Chordata&quot;,
                 &quot;order&quot;: &quot;Falconiformes&quot;,
                &quot;family&quot;: &quot;Falconidae&quot;,
                 &quot;genus&quot;: &quot;Falco&quot;,
               &quot;species&quot;: &quot;Falco punctatus&quot;,
            &quot;kingdomKey&quot;: 101683523,
             &quot;phylumKey&quot;: 102017110,
              &quot;classKey&quot;: 102085317,
              &quot;orderKey&quot;: 102091762,
             &quot;familyKey&quot;: 102091763,
              &quot;genusKey&quot;: 102091765,
            &quot;speciesKey&quot;: 102091853,
            &quot;datasetKey&quot;: &quot;9ca92552-f23a-41a8-a140-01abaa31c931&quot;,
             &quot;parentKey&quot;: 102091765,
                &quot;parent&quot;: &quot;Falco&quot;,
        &quot;scientificName&quot;: &quot;Falco punctatus Temminck, 1821&quot;,
         &quot;canonicalName&quot;: &quot;Falco punctatus&quot;,
        &quot;vernacularName&quot;: &quot;Mauritius Kestrel&quot;,
            &quot;authorship&quot;: &quot;Temminck, 1821&quot;,
              &quot;nameType&quot;: &quot;SCIENTIFIC&quot;,
                  &quot;rank&quot;: &quot;SPECIES&quot;,
                &quot;origin&quot;: &quot;SOURCE&quot;,
       &quot;taxonomicStatus&quot;: &quot;ACCEPTED&quot;,
   &quot;nomenclaturalStatus&quot;: [],
        &quot;numDescendants&quot;: 0,
           &quot;lastCrawled&quot;: &quot;2022-10-10T18:15:33.989+00:00&quot;,
       &quot;lastInterpreted&quot;: &quot;2022-10-10T19:16:16.841+00:00&quot;,
                &quot;issues&quot;: [
                            &quot;SCIENTIFIC_NAME_ASSEMBLED&quot;
                          ],
               &quot;synonym&quot;: false,
                 &quot;class&quot;: &quot;Aves&quot;
})</code></pre><p><strong>Keyword arguments</strong></p><ul><li><code>language</code>: can be specified for a single argument or with second argument in   <code>(:parents, :children, :related, :synonyms)</code>. </li><li><code>datasetKey</code>: can be specified, with a second argument <code>:related</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/cada73162c2b9b3faf0bcb55f7726ce92ab3883a/src/species.jl#L73-L159">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.species_list" href="#GBIF2.species_list"><code>GBIF2.species_list</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">species_list(; kw...)
species_list(key; kw...)
species_list(key, resulttype; kw...)</code></pre><p>Query the GBIF <code>species_list</code> api, returning a table of <code>Species</code> that exactly match your query.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using GBIF2
species_list(; name=&quot;Lalage newtoni&quot;)

# output
8-element GBIF2.Table{GBIF2.Species, JSON3.Array{JSON3.Object, Vector{UInt8}, SubArray{UInt64, 1, Vector{UInt64}, Tuple{UnitRange{Int64}}, true}}}
┌──────────┬──────────┬───────────────┬───────────────┬───────────────┬──────────┬──────────────────┬───────────┬─────────┬──────────┬──────────────┬────────────────┬───────
│  kingdom │   phylum │         class │         order │        family │    genus │          species │       key │  nubKey │  nameKey │      taxonID │ sourceTaxonKey │ king ⋯
│  String? │  String? │       String? │       String? │       String? │  String? │          String? │    Int64? │  Int64? │   Int64? │      String? │         Int64? │      ⋯
├──────────┼──────────┼───────────────┼───────────────┼───────────────┼──────────┼──────────────────┼───────────┼─────────┼──────────┼──────────────┼────────────────┼───────
│ Animalia │ Chordata │          Aves │ Passeriformes │ Campephagidae │ Coracina │ Coracina newtoni │   8385394 │ missing │ 18882488 │ gbif:8385394 │      176651982 │      ⋯
│ Animalia │  missing │          Aves │       missing │ Campephagidae │   Lalage │   Lalage newtoni │ 100144670 │ 8385394 │  5976204 │        06014 │        missing │  128 ⋯
│ Animalia │  missing │          Aves │ Passeriformes │ Campephagidae │  missing │   Lalage newtoni │ 133165079 │ 8385394 │  5976204 │        18380 │        missing │  135 ⋯
│ Animalia │ Chordata │          Aves │ Passeriformes │ Campephagidae │   Lalage │   Lalage newtoni │ 161400685 │ 8385394 │ 18882488 │       895898 │        missing │  134 ⋯
│  missing │  missing │       missing │       missing │       missing │ Bossiaea │   Lalage newtoni │ 165585935 │ missing │ 18882488 │      6924877 │        missing │    m ⋯
│ Animalia │  missing │          Aves │ Passeriformes │ Campephagidae │   Lalage │   Lalage newtoni │ 165923305 │ 8385394 │ 18882488 │        19393 │        missing │  100 ⋯
│ Animalia │ Chordata │          Aves │ Passeriformes │ Campephagidae │   Lalage │   Lalage newtoni │ 168010293 │ 8385394 │  5976204 │       181376 │        missing │  167 ⋯
│ Animalia │ Chordata │ Passeriformes │          Aves │ Campephagidae │   Lalage │   Lalage newtoni │ 176651982 │ 8385394 │ 18882488 │     22706569 │        missing │  202 ⋯
└──────────┴──────────┴───────────────┴───────────────┴───────────────┴──────────┴──────────────────┴───────────┴─────────┴──────────┴──────────────┴────────────────┴───────</code></pre><p><strong>Keyword arguments</strong></p><p>We use keywords exactly as in the <a href="https://www.gbif.org/developer/species">GBIF api</a>.</p><p>You can find keyword enum values with the <code>[GBIF2.enum](@ref)</code> function.</p><ul><li><code>language</code>: Language for vernacular names, given as an ISO 639-1 two-letter code from our</li><li><code>datasetKey</code>: Filters by the checklist dataset key (a uuid)</li><li><code>sourceId</code>: Filters by the source identifier</li><li><code>name</code>: Name of the species</li><li><code>offset</code>: Offset to start results from</li><li><code>limit</code>: The maximum number of results to return. This can&#39;t be greater than 300, any value greater is set to 300.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/cada73162c2b9b3faf0bcb55f7726ce92ab3883a/src/species.jl#L178-L216">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.species_match" href="#GBIF2.species_match"><code>GBIF2.species_match</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">species_match(; kw...)</code></pre><p>Query the GBIF <code>species/match</code> api, returning the single closest <code>Species</code> using fuzzy search.</p><p>The results are not particularly detailed, this can be improved by calling  <code>species(res)</code> on the result of <code>species_match</code> to query for the full dataset.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using GBIF2
sp = species_match(&quot;Lalage newtoni&quot;)

# output
GBIF2.Species({
           &quot;usageKey&quot;: 8385394,
   &quot;acceptedUsageKey&quot;: 2486791,
     &quot;scientificName&quot;: &quot;Lalage newtoni (Pollen, 1866)&quot;,
      &quot;canonicalName&quot;: &quot;Lalage newtoni&quot;,
               &quot;rank&quot;: &quot;SPECIES&quot;,
             &quot;status&quot;: &quot;SYNONYM&quot;,
         &quot;confidence&quot;: 98,
          &quot;matchType&quot;: &quot;EXACT&quot;,
            &quot;kingdom&quot;: &quot;Animalia&quot;,
             &quot;phylum&quot;: &quot;Chordata&quot;,
              &quot;order&quot;: &quot;Passeriformes&quot;,
             &quot;family&quot;: &quot;Campephagidae&quot;,
              &quot;genus&quot;: &quot;Coracina&quot;,
            &quot;species&quot;: &quot;Coracina newtoni&quot;,
         &quot;kingdomKey&quot;: 1,
          &quot;phylumKey&quot;: 44,
           &quot;classKey&quot;: 212,
           &quot;orderKey&quot;: 729,
          &quot;familyKey&quot;: 9284,
           &quot;genusKey&quot;: 2482359,
         &quot;speciesKey&quot;: 2486791,
            &quot;synonym&quot;: true,
              &quot;class&quot;: &quot;Aves&quot;
})</code></pre><p><strong>Keywords</strong></p><p>We use keywords exactly as in the <a href="https://www.gbif.org/developer/species">GBIF api</a>.</p><p>You can find keyword enum values with the <code>[GBIF2.enum](@ref)</code> function.</p><ul><li><code>rank</code>: Filters by taxonomic rank as given in our Rank enum</li><li><code>name</code>: Name of the species</li><li><code>strict</code>: If <code>true</code> it (fuzzy) matches only the given name, but never a taxon in the upper classification</li><li><code>verbose</code>: If <code>true</code> it shows alternative matches which were considered but then rejected</li><li><code>kingdom</code>: Optional kingdom classification accepting a canonical name.</li><li><code>phylum</code>: Optional phylum classification accepting a canonical name.</li><li><code>class</code>: Optional class classification accepting a canonical name.</li><li><code>order</code>: Optional order classification accepting a canonical name.</li><li><code>family</code>: Optional family classification accepting a canonical name.</li><li><code>genus</code>: Optional genus classification accepting a canonical name.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/cada73162c2b9b3faf0bcb55f7726ce92ab3883a/src/species.jl#L225-L275">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GBIF2.species_search" href="#GBIF2.species_search"><code>GBIF2.species_search</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">species_search([q]; kw...)</code></pre><p>Query the GBIF <code>species/search</code> api, returning many results in a <a href="@ref"><code>GBIF2.Table</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using GBIF2
sp = species_search(&quot;Psittacula eques&quot;)

# output
20-element GBIF2.Table{GBIF2.Species, JSON3.Array{JSON3.Object, Vector{UInt8}, SubArray{UInt64, 1,
Vector{UInt64}, Tuple{UnitRange{Int64}}, true}}}
┌──────────┬──────────┬────────────────┬────────────────┬───────────────┬──────────────┬───────────
│  kingdom │   phylum │          class │          order │        family │        genus │          ⋯
│  String? │  String? │        String? │        String? │       String? │      String? │          ⋯
├──────────┼──────────┼────────────────┼────────────────┼───────────────┼──────────────┼───────────
│ Animalia │ Chordata │           Aves │ Psittaciformes │ Psittaculidae │   Psittacula │   Psitta ⋯
│ Animalia │  missing │           Aves │ Psittaciformes │ Psittaculidae │      missing │          ⋯
│  Metazoa │ Chordata │           Aves │ Psittaciformes │   Psittacidae │   Psittacula │   Psitta ⋯
│ Animalia │  missing │           Aves │ Psittaciformes │ Psittaculidae │      missing │   Psitta ⋯
│ Animalia │  missing │           Aves │ Psittaciformes │ Psittaculidae │      missing │          ⋯
│ Animalia │  missing │        missing │ Psittaciformes │ Psittaculidae │      missing │   Psitta ⋯
│  Metazoa │ Chordata │           Aves │ Psittaciformes │   Psittacidae │   Psittacula │   Psitta ⋯
│  missing │  missing │        missing │        missing │       missing │   Psittacula │   Psitta ⋯
│ Animalia │ Chordata │           Aves │ Psittaciformes │ Psittaculidae │   Psittacula │   Psitta ⋯
│ Animalia │  missing │           Aves │        missing │   Psittacidae │   Psittacula │   Psitta ⋯
│  Metazoa │ Chordata │           Aves │ Psittaciformes │   Psittacidae │   Psittacula │    Psitt ⋯
│ Animalia │ Chordata │           Aves │ Psittaciformes │ Psittaculidae │   Psittacula │   Psitta ⋯
│ ANIMALIA │ CHORDATA │ PSITTACIFORMES │           AVES │   PSITTACIDAE │ Alexandrinus │ Alexandr ⋯
│  Metazoa │ Chordata │           Aves │ Psittaciformes │   Psittacidae │   Psittacula │    Psitt ⋯
│ Animalia │ Chordata │           Aves │ Psittaciformes │   Psittacidae │   Psittacula │   Psitta ⋯
│ Animalia │  missing │           Aves │ Psittaciformes │ Psittaculidae │   Psittacula │   Psitta ⋯
│    ⋮     │    ⋮     │       ⋮        │       ⋮        │       ⋮       │      ⋮       │          ⋱
└──────────┴──────────┴────────────────┴────────────────┴───────────────┴──────────────┴───────────
                                                                      35 columns and 4 rows omitted</code></pre><p><strong>Keyword arguments</strong></p><p>We use keywords exactly as in the <a href="https://www.gbif.org/developer/species">GBIF api</a>.</p><ul><li><code>class</code>: Optional class classification accepting a canonical name.</li><li><code>datasetKey</code>: Filters by the checklist dataset key (a uuid)</li><li><code>facet</code>: A list of facet names used to retrieve the 100 most frequent values for a field.</li></ul><p>Allowed facets are <code>:datasetKey</code>, <code>:higherTaxonKey</code>, <code>:rank</code>, <code>:status</code>, <code>:nomenclaturalStatus</code>, <code>isExtinct</code>, <code>:habitat</code>, <code>:threat</code> and <code>:nameType</code>.</p><ul><li><code>facetMincount</code>: Used in combination with the facet parameter. Set facetMincount=N to exclude facets</li></ul><p>with a count less than N, e.g. <code>facet=type, limit=&gt;0, facetMincount=&gt;10000</code> only shows the type value <code>OCCURRENCE</code> because <code>:CHECKLIST</code> and <code>:METADATA</code> have counts less than 10000.</p><ul><li><code>facetMultiselect</code>: Used in combination with the facet parameter. Set <code>facetMultiselect=true</code> to still</li></ul><p>return counts for values that are not currently filtered, e.g. <code>facet=type, limit=&gt;0, type=&gt;CHECKLIST, facetMultiselect=&gt;true</code> still shows type values <code>OCCURRENCE</code> and <code>METADATA</code> even though type is being filtered by <code>type=:CHECKLIST</code></p><ul><li><code>family</code>: Optional family classification accepting a canonical name.</li><li><code>genus</code>: Optional genus classification accepting a canonical name.</li><li><code>habitat</code>: Filters by the habitat. Currently only 3 major biomes are accepted in our Habitat enum</li><li><code>highertaxonKey</code>: Filters by any of the higher Linnean rank keys. Note this is within the respective&quot;,</li></ul><p>checklist and not searching nub keys across all checklists.</p><ul><li><code>hl</code>: Set <code>hl=true</code> to highlight terms matching the query when in fulltext search fields.&quot;,</li></ul><p>The highlight will be an emphasis tag of class &#39;gbifH1&#39; e.g. <code>q=&quot;plant&quot;, hl=&gt;true</code>.&quot;, Fulltext search fields include title, keyword, country, publishing country, publishing organization title,&quot;, hosting organization title, and description. One additional full text field is searched which includes&quot;, information from metadata documents, but the text of this field is not returned in the response.</p><ul><li><code>isExtinct</code>: Filters by extinction status (a boolean, e.g. isExtinct=&gt;true)</li><li><code>issue</code>: A specific indexing issue as defined in our NameUsageIssue enum</li><li><code>kingdom</code>: Optional kingdom classification accepting a canonical name.</li><li><code>language</code>: Language for vernacular names, given as an ISO 639-1 two-letter code from our</li><li><code>nameType</code>: Filters by the name type as given in our NameType enum</li><li><code>nomenclaturalStatus</code>: Not yet implemented, but will eventually allow for filtering by a nomenclatural status enum</li><li><code>order</code>: Optional order classification accepting a canonical name.</li><li><code>phylum</code>: Optional phylum classification accepting a canonical name.</li><li><code>q</code>: Simple full text search parameter. The value for this parameter can be a simple word or a phrase.</li></ul><p>Wildcards are not supported</p><ul><li><code>rank</code>: Filters by taxonomic rank as given in our Rank enum</li><li><code>sourceId</code>: Filters by the source identifier</li><li><code>status</code>: Filters by the taxonomic status as given in our TaxonomicStatus enum</li><li><code>strict</code>: If <code>true</code> it (fuzzy) matches only the given name, but never a taxon in the upper classification</li><li><code>threat</code>: Filters by the taxonomic threat status as given in our ThreatStatus enum</li><li><code>verbose</code>: If <code>true</code> it shows alternative matches which were considered but then rejected</li><li><code>offset</code>: Offset to start results from</li><li><code>limit</code>: The maximum number of results to return. This can&#39;t be greater than 300, any value greater is set to 300.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EcoJulia/GBIF2.jl/blob/cada73162c2b9b3faf0bcb55f7726ce92ab3883a/src/species.jl#L293-L337">source</a></section></article><p><code>Occurrence</code> objects and queries correspond closely to the <a href="https://www.gbif.org/developer/occurrence">GBIF occurrence api</a>.</p><pre><code class="nohighlight hljs">Occurrence
occurrence
occurrence_search
occurrence_request
occurrence_download
occurrence_count
occurrence_inventory</code></pre></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Sunday 16 October 2022 14:27">Sunday 16 October 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
